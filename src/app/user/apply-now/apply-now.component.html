<img class="logo" src="\assets\images\logo.png" />
<div class="header">
    <h1 class="mat-display-1" style="font-weight: bold">Job Position: {{ job.jobTitle }} - Apply Here</h1>
</div>
<form [formGroup]="myForm" #ngForm="ngForm" class="form-container">
    <mat-card class="centered-card">
        <p style="color: red; margin: 1rem;">*required</p>
        <div *ngIf="success" class="alert alert-success" role="alert">
            Your Form Submitted Succesfully <a href="" class="alert-link">Navigate to main Page</a>
        </div>
        <mat-card-content>
            <div class="inputs-container">
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">First Name</mat-label>
                    <input matInput placeholder="First Name" formControlName="firstname">
                    <mat-error *ngIf="myForm.controls['firstname'].hasError('required')">firstname is
                        required</mat-error>
                    <mat-error *ngIf="myForm.controls['firstname'].hasError('minlength')">Min 4 characters*</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Last Name</mat-label>
                    <input matInput placeholder="Last Name" formControlName="lastname">
                    <mat-error *ngIf="myForm.controls['lastname'].hasError('required')">Lastname is required</mat-error>
                    <mat-error *ngIf="myForm.controls['lastname'].hasError('minlength')">Min 4 characters*</mat-error>
                </mat-form-field>
            </div>
            <div class="inputs-container">
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Phone Number with code</mat-label>
                    <input matInput placeholder="Phone Number with code" formControlName="phonenumber" type="text">
                    <mat-error *ngIf="myForm.controls['phonenumber'].hasError('required')">Phone number is
                        required</mat-error>
                    <mat-error
                        *ngIf="myForm.controls['phonenumber'].hasError('minlength') || myForm.controls['phonenumber'].hasError('pattern') ">Enter
                        Valid Phone Number</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Total Experience</mat-label>
                    <input matInput placeholder="Total Experience" formControlName="experience" type="text">
                    <mat-error *ngIf="myForm.controls['experience'].hasError('required')">Experience is required in
                        numbers</mat-error>
                    <mat-error *ngIf="myForm.controls['experience'].hasError('pattern')">Enter in numbers
                        (>=0)</mat-error>
                </mat-form-field>
            </div>
            <div class="inputs-container">
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">EmailID</mat-label>
                    <input matInput placeholder="EmailID" formControlName="EmailID">
                    <mat-error
                        *ngIf="myForm.controls['EmailID'].hasError('required') || myForm.controls['EmailID'].hasError('email') ">Enter
                        Valid Email</mat-error>
                </mat-form-field>
                <mat-form-field class="full-width" appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">HomeAddress</mat-label>
                    <input matInput placeholder="HomeAddress" formControlName="Address">
                    <mat-error *ngIf="myForm.controls['Address'].hasError('required')">Home Address is
                        required</mat-error>
                </mat-form-field>
            </div>
            <div class="inputs-container">
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Skills</mat-label>
                    <input matInput placeholder="Skills" formControlName="skills">
                    <mat-error *ngIf="myForm.controls['skills'].hasError('required')">Skills are required</mat-error>
                </mat-form-field>
                <mat-form-field class="full-width" appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Current Location</mat-label>
                    <input matInput placeholder="Current Location" formControlName="currentlocation">
                    <mat-error *ngIf="myForm.controls['currentlocation'].hasError('required')">Current Location is
                        required</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" class="input-field">
                    <mat-label floatLabel="auto">Availbility From</mat-label>
                    <input formControlName="availabilityfrom" matInput [matDatepicker]="picker" [min]="now">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                    <mat-error *ngIf="myForm.controls['availabilityfrom'].hasError('required')">Date is
                        required</mat-error>
                </mat-form-field>
            </div>
            <mat-radio-group class="input-field"
                [ngClass]="{'invalid': ngForm.submitted &amp;&amp; myForm.get('are_you_a_previous_employee').invalid}"
                formControlName="are_you_a_previous_employee">
                <mat-label>Are You a Previous Employee?*</mat-label>
                <mat-radio-button value="Yes" color='primary'> Yes </mat-radio-button>
                <mat-radio-button value="No" color='primary'> No </mat-radio-button>
            </mat-radio-group>
            <input type="file" accept=".pdf" class="file-input" #fileUpload (change)="onFileChange($event)">
            <div>
                <button mat-mini-fab color="primary" (click)="fileUpload.click()">
                    <mat-icon>attach_file</mat-icon>
                </button>
                <span [ngClass]="{'invalid': ngForm.submitted &amp;&amp; myForm.get('file').invalid}">{{fileName
                    ||"Click to insert Resume only pdf*"}}</span>
                <mat-checkbox color='primary' formControlName="acceptedpolicy"></mat-checkbox>
                <mat-label
                    [ngClass]="{'invalid': ngForm.submitted &amp;&amp; myForm.get('acceptedpolicy').invalid}">Cookies
                    Policy*</mat-label>
            </div>
            <div class="buttonalign">
                <button (click)="saveForm()" mat-raised-button color="primary">Submit</button>
            </div>
        </mat-card-content>
    </mat-card>
</form>